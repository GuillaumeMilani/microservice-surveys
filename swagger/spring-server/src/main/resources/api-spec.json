{"swagger":"2.0","info":{"description":"HEIG-VD AMT course Survey microservice\n","version":"1.4","title":"Survey microservice"},"tags":[{"name":"survey","description":"Manage some surveys"}],"host":"virtserver.swaggerhub.com","basePath":"/proteck/AMT/1.0.0","schemes":["https","http"],"externalDocs":{"description":"Find out more about the microservice","url":"https://github.com/LozziKit/microservice-surveys/wiki"},"paths":{"/surveys":{"get":{"tags":["survey"],"summary":"Get all surveys","operationId":"getSurveys","produces":["application/json"],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/Survey"}}}}},"post":{"tags":["survey"],"summary":"Add a new survey to your account","operationId":"addSurvey","consumes":["application/json"],"parameters":[{"in":"body","name":"body","description":"Survey","required":true,"schema":{"$ref":"#/definitions/Survey"}}],"responses":{"201":{"description":"Return a header containing the url to get the new survey and his creation timestamp","headers":{"location":{"type":"string"},"lastModified":{"type":"string","format":"datetime"}}},"405":{"description":"Invalid input"}}}},"/surveys/{surveyId}":{"get":{"tags":["survey"],"summary":"Find a survey by ID","description":"Returns a single survey","operationId":"getSurveyById","produces":["application/json"],"parameters":[{"name":"surveyId","in":"path","description":"ID of survey to return","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/Survey"}},"400":{"description":"Invalid ID supplied"},"404":{"description":"Survey not found"}}}},"/surveys/{surveyId}/status":{"patch":{"tags":["survey"],"summary":"Change a survey's status","description":"Publish or close a survey","operationId":"changeSurveysStatus","consumes":["application/json"],"parameters":[{"in":"path","name":"surveyId","description":"ID of survey to patch","required":true,"type":"string"},{"in":"body","name":"body","description":"Status","required":true,"schema":{"$ref":"#/definitions/Status"}}],"responses":{"200":{"description":"successful operation"},"400":{"description":"Invalid status change"},"404":{"description":"Survey not found"}}}}},"definitions":{"Survey":{"type":"object","required":["user","status"],"properties":{"user":{"type":"integer","format":"int64"},"datetime":{"type":"string","format":"date-time"},"status":{"$ref":"#/definitions/Status"},"title":{"type":"string"},"description":{"type":"string"},"questions":{"type":"array","items":{"$ref":"#/definitions/Question"}}},"xml":{"name":"Survey"}},"Question":{"type":"object","required":["number","question"],"properties":{"number":{"type":"integer","format":"int32"},"question":{"type":"string"}},"xml":{"name":"Question"}},"Answer":{"type":"object","required":["questionNumber","answer"],"properties":{"questionNumber":{"type":"integer","format":"int32"},"answer":{"type":"string"}},"xml":{"name":"Answer"}},"Event":{"type":"object","required":["surveyId","status"],"properties":{"datetime":{"type":"string","format":"date-time"},"surveyId":{"type":"string"},"status":{"$ref":"#/definitions/Status"}},"xml":{"name":"Event"}},"Status":{"type":"string","default":"draft","enum":["draft","opened","closed"]}}}